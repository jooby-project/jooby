<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_102) on Sun Oct 23 22:31:25 ART 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Sse (jooby-project 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-10-23">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Sse (jooby-project 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Sse.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/jooby/Session.Store.html" title="interface in org.jooby"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../org/jooby/Sse.Event.html" title="class in org.jooby"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/jooby/Sse.html" target="_top">Frames</a></li>
<li><a href="Sse.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jooby</div>
<h2 title="Class Sse" class="title">Class Sse</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.jooby.Sse</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Sse</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block"><h1>Server Sent Events</h1>
 <p>
 Server-Sent Events (SSE) is a mechanism that allows server to push the data from the server to
 the client once the client-server connection is established by the client. Once the connection is
 established by the client, it is the server who provides the data and decides to send it to the
 client whenever new <strong>chunk</strong> of data is available.
 </p>

 <h2>usage</h2>

 <pre><code>
 {
   sse("/path", sse -&gt; {
     // 1. connected
     sse.send("data"); // 2. send/push data
   });
 }
 </code></pre>

 <p>
 Simple, effective and easy to use. The callback will be executed once when a new client is
 connected. Inside the callback we can send data, listen for connection close events, etc.
 </p>

 <p>
 There is a factory method <a href="../../org/jooby/Sse.html#event-java.lang.Object-"><code>event(Object)</code></a> that let you set event attributes:
 </p>

 <pre><code>
 {
   sse("/path", sse -&gt; {
     sse.event("data")
         .id("id")
         .name("myevent")
         .retry(5000L)
         .send();
   });
 }
 </code></pre>

 <h2>structured data</h2>
 <p>
 Beside raw/string data you can also send structured data, like <code>json</code>,
 <code>xml</code>, etc..
 </p>

 <p>
 The next example will send two message one in <code>json</code> format and one in
 <code>text/plain</code> format:
 </p>
 :

 <pre><code>
 {
   use(new MyJsonRenderer());

   sse("/path", sse -&gt; {
     MyObject object = ...
     sse.send(object, "json");
     sse.send(object, "plain");
   });
 }
 </code></pre>

 <p>
 Or if your need only one format, just:
 </p>

 <pre><code>
 {
   use(new MyJsonRenderer());

   sse("/path", sse -&gt; {
     MyObject object = ...
     sse.send(object);
   }).produces("json"); // by default always send json
 }
 </code></pre>

 <h2>request params</h2>
 <p>
 We provide request access via two arguments callback:
 </p>

 <pre><code>
 {
   sse("/events/:id", (req, sse) -&gt; {
     String id = req.param("id").value();
     MyObject object = findObject(id);
     sse.send(object);
   });
 }
 </code></pre>

 <h2>connection lost</h2>
 <p>
 The <code>#onClose(CheckedRunnable)</code> callback allow you to clean and release resources on
 connection close. A connection is closed by calling <a href="../../org/jooby/Sse.html#close--"><code>close()</code></a> or when the client/browser
 close the connection.
 </p>

 <pre><code>
 {
   sse("/events/:id", sse -&gt; {
     sse.onClose(() -&gt; {
       // clean up resources
     });
   });
 }
 </code></pre>

 <p>
 The close event will be generated if you try to send an event on a closed connection.
 </p>

 <h2>keep alive time</h2>
 <p>
 The keep alive time feature can be used to prevent connections from timing out:
 </p>

 <pre><code>
 {
   sse("/events/:id", sse -&gt; {
     sse.keepAlive(15, TimeUnit.SECONDS);
   });
 }
 </code></pre>

 <p>
 The previous example will sent a <code>':'</code> message (empty comment) every 15 seconds to
 keep the connection alive. If the client drop the connection, then the
 <code>#onClose(CheckedRunnable)</code> event will be fired it.
 </p>

 <p>
 This feature is useful when you want to detect <code>#onClose(CheckedRunnable)</code> events without
 waiting for the next time you send a new event. But for example, if your application already
 generate events every 15s, then the use of keep alive is useless and you can avoid it.
 </p>

 <h2>require</h2>
 <p>
 The <a href="../../org/jooby/Sse.html#require-java.lang.Class-"><code>require(Class)</code></a> methods let you access to application services:
 </p>

 <pre><code>
 {
   sse("/events/:id", sse -&gt; {
     MyService service = sse.require(MyService.class);
   });
 }
 </code></pre>

 <h2>example</h2>
 <p>
 The next example will generate a new event every 60s. It recovers from a server shutdown by using
 the <a href="../../org/jooby/Sse.html#lastEventId--"><code>lastEventId()</code></a> and clean resources on connection close.
 </p>
 <pre><code>
 {
   // creates an executor service
   ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);

   sse("/events", sse -&gt; {
     // if we go down, recover from last event ID we sent. Otherwise, start from zero.
     int lastId = sse.lastEventId(Integer.class).orElse(0);

     AtomicInteger next = new AtomicInteger(lastId);

     // send events every 60s
     ScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; {
        Integer id = next.incrementAndGet();
        Object data = findDataById(id);

        // send data and id
        sse.event(data).id(id).send();
      }, 0, 60, TimeUnit.SECONDS);

      // on connection lost, cancel 60s task
      sse.onClose(() -&gt; {
       future.cancel(true);
      });
   });
 }

 </code></pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.0.CR</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>edgar</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.Event.html" title="class in org.jooby">Sse.Event</a></span></code>
<div class="block">Event representation of Server sent event.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.Handler.html" title="interface in org.jooby">Sse.Handler</a></span></code>
<div class="block">Server-sent event handler.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.Handler1.html" title="interface in org.jooby">Sse.Handler1</a></span></code>
<div class="block">Single argument event handler.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#Sse--">Sse</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#close--">close</a></span>()</code>
<div class="block">Close the connection and fire an <code>#onClose(CheckedRunnable)</code> event.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../org/jooby/Sse.Event.html" title="class in org.jooby">Sse.Event</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#event-java.lang.Object-">event</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data)</code>
<div class="block">Factory method for creating <a href="../../org/jooby/Sse.Event.html" title="class in org.jooby"><code>Sse.Event</code></a> instances.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#id--">id</a></span>()</code>
<div class="block">A unique ID (like a session ID).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../org/jooby/Sse.html" title="class in org.jooby">Sse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#keepAlive-int-java.util.concurrent.TimeUnit-">keepAlive</a></span>(int&nbsp;time,
         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</code>
<div class="block">The keep alive time can be used to prevent connections from timing out:</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../org/jooby/Sse.html" title="class in org.jooby">Sse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#keepAlive-long-">keepAlive</a></span>(long&nbsp;millis)</code>
<div class="block">The keep alive time can be used to prevent connections from timing out:</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#lastEventId--">lastEventId</a></span>()</code>
<div class="block">Server sent event will send a Last-Event-ID header if the server goes down.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#lastEventId-java.lang.Class-">lastEventId</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Server sent event will send a Last-Event-ID header if the server goes down.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../org/jooby/Sse.html" title="class in org.jooby">Sse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#onClose-javaslang.control.Try.CheckedRunnable-">onClose</a></span>(javaslang.control.Try.CheckedRunnable&nbsp;task)</code>
<div class="block">Listen for connection close (usually client drop the connection).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#require-java.lang.Class-">require</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Ask Guice for the given type.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#require-com.google.inject.Key-">require</a></span>(com.google.inject.Key&lt;T&gt;&nbsp;key)</code>
<div class="block">Ask Guice for the given type.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#require-java.lang.String-java.lang.Class-">require</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Ask Guice for the given type.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#require-com.google.inject.TypeLiteral-">require</a></span>(com.google.inject.TypeLiteral&lt;T&gt;&nbsp;type)</code>
<div class="block">Ask Guice for the given type.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>javaslang.concurrent.Future&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#send-java.lang.Object-">send</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data)</code>
<div class="block">Send an event.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>javaslang.concurrent.Future&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#send-java.lang.Object-org.jooby.MediaType-">send</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data,
    <a href="../../org/jooby/MediaType.html" title="class in org.jooby">MediaType</a>&nbsp;type)</code>
<div class="block">Send an event and set media type.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>javaslang.concurrent.Future&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../org/jooby/Sse.html#send-java.lang.Object-java.lang.String-">send</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data,
    <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type)</code>
<div class="block">Send an event and set media type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Sse--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Sse</h4>
<pre>public&nbsp;Sse()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="id--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>id</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id()</pre>
<div class="block">A unique ID (like a session ID).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Sse unique ID (like a session ID).</dd>
</dl>
</li>
</ul>
<a name="lastEventId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastEventId</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;lastEventId()</pre>
<div class="block">Server sent event will send a Last-Event-ID header if the server goes down.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Last event id.</dd>
</dl>
</li>
</ul>
<a name="lastEventId-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastEventId</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;T&gt;&nbsp;lastEventId(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</pre>
<div class="block">Server sent event will send a Last-Event-ID header if the server goes down.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Event id type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Last event id type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Last event id.</dd>
</dl>
</li>
</ul>
<a name="onClose-javaslang.control.Try.CheckedRunnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onClose</h4>
<pre>public&nbsp;<a href="../../org/jooby/Sse.html" title="class in org.jooby">Sse</a>&nbsp;onClose(javaslang.control.Try.CheckedRunnable&nbsp;task)</pre>
<div class="block">Listen for connection close (usually client drop the connection). This method is useful for
 resources cleanup.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>task</code> - Task to run.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This instance.</dd>
</dl>
</li>
</ul>
<a name="send-java.lang.Object-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;javaslang.concurrent.Future&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;&nbsp;send(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data,
                                                          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type)</pre>
<div class="block">Send an event and set media type.

 <pre><code>
   sse.send(new MyObject(), "json");
 </code></pre>

 On success the <code>Future.onSuccess(java.util.function.Consumer)</code> callback will be executed:

 <pre><code>
   sse.send(new MyObject(), "json").onSuccess(id -&gt; {
     //
   });
 </code></pre>

 The <code>id</code> of the success callback correspond to the <a href="../../org/jooby/Sse.Event.html#id--"><code>Sse.Event.id()</code></a>.

 On error the <code>Future.onFailure(java.util.function.Consumer)</code> callback will be executed:

 <pre><code>
   sse.send(new MyObject(), "json").onFailure(cause -&gt; {
     //
   });
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - Event data.</dd>
<dd><code>type</code> - Media type, like: json, xml.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future. The success callback contains the <a href="../../org/jooby/Sse.Event.html#id--"><code>Sse.Event.id()</code></a>.</dd>
</dl>
</li>
</ul>
<a name="send-java.lang.Object-org.jooby.MediaType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;javaslang.concurrent.Future&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;&nbsp;send(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data,
                                                          <a href="../../org/jooby/MediaType.html" title="class in org.jooby">MediaType</a>&nbsp;type)</pre>
<div class="block">Send an event and set media type.

 <pre><code>
   sse.send(new MyObject(), "json");
 </code></pre>

 On success the <code>Future.onSuccess(java.util.function.Consumer)</code> callback will be executed:

 <pre><code>
   sse.send(new MyObject(), "json").onSuccess(id -&gt; {
     //
   });
 </code></pre>

 The <code>id</code> of the success callback correspond to the <a href="../../org/jooby/Sse.Event.html#id--"><code>Sse.Event.id()</code></a>.

 On error the <code>Future.onFailure(java.util.function.Consumer)</code> callback will be executed:

 <pre><code>
   sse.send(new MyObject(), "json").onFailure(cause -&gt; {
     //
   });
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - Event data.</dd>
<dd><code>type</code> - Media type, like: json, xml.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future. The success callback contains the <a href="../../org/jooby/Sse.Event.html#id--"><code>Sse.Event.id()</code></a>.</dd>
</dl>
</li>
</ul>
<a name="send-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;javaslang.concurrent.Future&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util">Optional</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&gt;&nbsp;send(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data)</pre>
<div class="block">Send an event.

 <pre><code>
   sse.send(new MyObject());
 </code></pre>

 On success the <code>Future.onSuccess(java.util.function.Consumer)</code> callback will be executed:

 <pre><code>
   sse.send(new MyObject()).onSuccess(id -&gt; {
     //
   });
 </code></pre>

 The <code>id</code> of the success callback correspond to the <a href="../../org/jooby/Sse.Event.html#id--"><code>Sse.Event.id()</code></a>.

 On error the <code>Future.onFailure(java.util.function.Consumer)</code> callback will be executed:

 <pre><code>
   sse.send(new MyObject()).onFailure(cause -&gt; {
     //
   });
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - Event data.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future. The success callback contains the <a href="../../org/jooby/Sse.Event.html#id--"><code>Sse.Event.id()</code></a>.</dd>
</dl>
</li>
</ul>
<a name="event-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>event</h4>
<pre>public&nbsp;<a href="../../org/jooby/Sse.Event.html" title="class in org.jooby">Sse.Event</a>&nbsp;event(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;data)</pre>
<div class="block">Factory method for creating <a href="../../org/jooby/Sse.Event.html" title="class in org.jooby"><code>Sse.Event</code></a> instances.

 Please note event won't be sent unless you call <a href="../../org/jooby/Sse.Event.html#send--"><code>Sse.Event.send()</code></a>:

 <pre><code>
   sse.event(new MyObject()).send();
 </code></pre>

 The factory allow you to set event attributes:

 <pre><code>
   // send data
   MyObject data = ...;
   sse.event(data).send();

   // send data with event name
   sse.event(data).name("myevent").send();

   // send data with event name and id
   sse.event(data).name("myevent").id(id).send();

   // send data with event name, id and retry interval
   sse.event(data).name("myevent").id(id).retry(1500).send();
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - Event data.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new event.</dd>
</dl>
</li>
</ul>
<a name="require-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>require</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;require(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</pre>
<div class="block">Ask Guice for the given type.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Service type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - A service type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ready to use object.</dd>
</dl>
</li>
</ul>
<a name="require-java.lang.String-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>require</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;require(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</pre>
<div class="block">Ask Guice for the given type.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Service type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - A service name.</dd>
<dd><code>type</code> - A service type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ready to use object.</dd>
</dl>
</li>
</ul>
<a name="require-com.google.inject.TypeLiteral-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>require</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;require(com.google.inject.TypeLiteral&lt;T&gt;&nbsp;type)</pre>
<div class="block">Ask Guice for the given type.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Service type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - A service type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ready to use object.</dd>
</dl>
</li>
</ul>
<a name="require-com.google.inject.Key-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>require</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;T&nbsp;require(com.google.inject.Key&lt;T&gt;&nbsp;key)</pre>
<div class="block">Ask Guice for the given type.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Service type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - A service key.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A ready to use object.</dd>
</dl>
</li>
</ul>
<a name="keepAlive-int-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keepAlive</h4>
<pre>public&nbsp;<a href="../../org/jooby/Sse.html" title="class in org.jooby">Sse</a>&nbsp;keepAlive(int&nbsp;time,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;unit)</pre>
<div class="block">The keep alive time can be used to prevent connections from timing out:

 <pre><code>
 {
   sse("/events/:id", sse -&gt; {
     sse.keepAlive(15, TimeUnit.SECONDS);
   });
 }
 </code></pre>

 <p>
 The previous example will sent a <code>':'</code> message (empty comment) every 15 seconds to
 keep the connection alive. If the client drop the connection, then the
 <code>#onClose(CheckedRunnable)</code> event will be fired it.
 </p>

 <p>
 This feature is useful when you want to detect <code>#onClose(CheckedRunnable)</code> events without
 waiting until you send a new event. But for example, if your application already generate
 events
 every 15s, then the use of keep alive is useless and you should avoid it.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>time</code> - Keep alive time.</dd>
<dd><code>unit</code> - Time unit.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This instance.</dd>
</dl>
</li>
</ul>
<a name="keepAlive-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keepAlive</h4>
<pre>public&nbsp;<a href="../../org/jooby/Sse.html" title="class in org.jooby">Sse</a>&nbsp;keepAlive(long&nbsp;millis)</pre>
<div class="block">The keep alive time can be used to prevent connections from timing out:

 <pre><code>
 {
   sse("/events/:id", sse -&gt; {
     sse.keepAlive(15, TimeUnit.SECONDS);
   });
 }
 </code></pre>

 <p>
 The previous example will sent a <code>':'</code> message (empty comment) every 15 seconds to
 keep the connection alive. If the client drop the connection, then the
 <code>#onClose(CheckedRunnable)</code> event will be fired it.
 </p>

 <p>
 This feature is useful when you want to detect <code>#onClose(CheckedRunnable)</code> events without
 waiting until you send a new event. But for example, if your application already generate
 events
 every 15s, then the use of keep alive is useless and you should avoid it.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>millis</code> - Keep alive time in millis.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>This instance.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public final&nbsp;void&nbsp;close()
                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Close the connection and fire an <code>#onClose(CheckedRunnable)</code> event.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Sse.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../org/jooby/Session.Store.html" title="interface in org.jooby"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../org/jooby/Sse.Event.html" title="class in org.jooby"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?org/jooby/Sse.html" target="_top">Frames</a></li>
<li><a href="Sse.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
