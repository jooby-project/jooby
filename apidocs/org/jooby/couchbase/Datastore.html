<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_102) on Sun Oct 23 22:31:25 ART 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Datastore (jooby-project 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-10-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Datastore (jooby-project 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":18,"i2":18,"i3":18,"i4":18,"i5":18,"i6":18,"i7":18,"i8":17,"i9":18,"i10":18,"i11":18,"i12":18,"i13":18,"i14":18,"i15":18,"i16":18,"i17":18,"i18":18};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Datastore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jooby/couchbase/CouchbaseSessionStore.html" title="class in org.jooby.couchbase"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jooby/couchbase/Datastore.html" target="_top">Frames</a></li>
<li><a href="Datastore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jooby.couchbase</div>
<h2 title="Interface Datastore" class="title">Interface Datastore</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Datastore</span></pre>
<div class="block"><h1>datastore</h1>
 <p>
 Create, read, update and delete entities from an <code>Bucket</code>. It is similar to
 <code>Repository</code> but less verbose or more ready to use, but also add support for
 <code>ViewQuery</code> and <code>N1qlQuery</code>.
 </p>

 <h2>design/implementation choices</h2>
 <p>
 In order to abstract developers from doing basic CRUD operations, the following design has been
 made:
 </p>

 <ul>
 <li>IDs look like: <code>classname::id</code>.</li>
 <li>ID is also stored within the document as an attribute</li>
 <li>A <code>class</code> attribute is also stored within the document</li>
 </ul>

 <p>
 Here is an example of a document for a class: <code>model.Beer</code>:
 </p>
 <pre><code>
 {
   "model.Beer::678": {
     "name": "IPA",
     "id": 678,
     "class": "model.Beer"
   }
 }
 </code></pre>

 <h2>ID selection</h2>
 <p>
 In order to mark a class field as document ID, you must:
 </p>
 <ul>
 <li>Name the field: <code>id</code>, or</li>
 <li>Annotated the field with <code>Id</code></li>
 </ul>

 <p>
 Auto-increment ID are supported by annotating the field with <a href="../../../org/jooby/couchbase/GeneratedValue.html" title="annotation in org.jooby.couchbase"><code>GeneratedValue</code></a> and declare
 the field as <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang"><code>Long</code></a>. Then whenever you make a call to <a href="../../../org/jooby/couchbase/Datastore.html#insert-T-"><code>insert(Object)</code></a> or
 <a href="../../../org/jooby/couchbase/Datastore.html#upsert-T-"><code>upsert(Object)</code></a> a new ID will be generated if need it.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.0.CR7</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>edgar</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a></span></code>
<div class="block">Provides advanced options for couchbase operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.RemoveCommand.html" title="class in org.jooby.couchbase">Datastore.RemoveCommand</a></span></code>
<div class="block">Provides advanced options for couchbase operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.ViewQueryResult.html" title="class in org.jooby.couchbase">Datastore.ViewQueryResult</a>&lt;<a href="../../../org/jooby/couchbase/Datastore.ViewQueryResult.html" title="type parameter in Datastore.ViewQueryResult">T</a>&gt;</span></code>
<div class="block">Result of <a href="../../../org/jooby/couchbase/Datastore.html#query-com.couchbase.client.java.view.ViewQuery-"><code>query(ViewQuery)</code></a> contains a list of entities plus totalRows in
 the view.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../org/jooby/couchbase/AsyncDatastore.html" title="interface in org.jooby.couchbase">AsyncDatastore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#async--">async</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#exists-java.lang.Class-java.lang.Object-">exists</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;entityClass,
      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)</code>
<div class="block">Check whether a entity with the given ID does exist in the bucket.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#get-java.lang.Class-java.lang.Object-">get</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)</code>
<div class="block">Get an entity/document by ID.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#getAndLock-java.lang.Class-java.lang.Object-int-">getAndLock</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id,
          int&nbsp;lockTime)</code>
<div class="block">Retrieve and lock a entity by its unique ID.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#getAndTouch-java.lang.Class-java.lang.Object-int-">getAndTouch</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id,
           int&nbsp;expiry)</code>
<div class="block">Retrieve and touch an entity by its unique ID.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#getFromReplica-java.lang.Class-java.lang.Object-com.couchbase.client.java.ReplicaMode-">getFromReplica</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id,
              com.couchbase.client.java.ReplicaMode&nbsp;mode)</code>
<div class="block">Get an entity/document by ID.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>default <a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#insert--">insert</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#insert-T-">insert</a></span>(T&nbsp;entity)</code>
<div class="block">Insert an entity.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;rx.Observable&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#notFound-java.lang.Class-java.lang.Object-">notFound</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;entityClass,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)</code>
<div class="block">Produces an observable that throws a <code>DocumentDoesNotExistException</code>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#query-com.couchbase.client.java.query.N1qlQuery-">query</a></span>(com.couchbase.client.java.query.N1qlQuery&nbsp;query)</code>
<div class="block">Run a <code>N1qlQuery.simple(Statement)</code> query.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#query-com.couchbase.client.java.query.Statement-">query</a></span>(com.couchbase.client.java.query.Statement&nbsp;statement)</code>
<div class="block">Run a <code>N1qlQuery.simple(Statement)</code> query.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;<a href="../../../org/jooby/couchbase/Datastore.ViewQueryResult.html" title="class in org.jooby.couchbase">Datastore.ViewQueryResult</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#query-com.couchbase.client.java.view.ViewQuery-">query</a></span>(com.couchbase.client.java.view.ViewQuery&nbsp;query)</code>
<div class="block">Run a <code>ViewQuery</code> query.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>default <a href="../../../org/jooby/couchbase/Datastore.RemoveCommand.html" title="class in org.jooby.couchbase">Datastore.RemoveCommand</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#remove--">remove</a></span>()</code>
<div class="block">Removes an entity from the Server.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>default long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#remove-java.lang.Class-java.lang.Object-">remove</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;entityClass,
      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)</code>
<div class="block">Removes an entity from the Server.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>default long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#remove-java.lang.Object-">remove</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)</code>
<div class="block">Removes an entity from the Server.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>default <a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#replace--">replace</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#replace-T-">replace</a></span>(T&nbsp;entity)</code>
<div class="block">Replace a <code>Document</code> if it does exist and watch for durability constraints.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>default <a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#upsert--">upsert</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>default &lt;T&gt;&nbsp;T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jooby/couchbase/Datastore.html#upsert-T-">upsert</a></span>(T&nbsp;entity)</code>
<div class="block">Insert or overwrite an entity.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="notFound-java.lang.Class-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notFound</h4>
<pre>static&nbsp;&lt;T&gt;&nbsp;rx.Observable&lt;T&gt;&nbsp;notFound(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;entityClass,
                                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)</pre>
<div class="block">Produces an observable that throws a <code>DocumentDoesNotExistException</code>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class.</dd>
<dd><code>id</code> - Entity id.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An observable that throws a <code>DocumentDoesNotExistException</code>.</dd>
</dl>
</li>
</ul>
<a name="async--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>async</h4>
<pre><a href="../../../org/jooby/couchbase/AsyncDatastore.html" title="interface in org.jooby.couchbase">AsyncDatastore</a>&nbsp;async()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An <a href="../../../org/jooby/couchbase/AsyncDatastore.html" title="interface in org.jooby.couchbase"><code>AsyncDatastore</code></a>.</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Class-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;get(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
                  <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)
           throws com.couchbase.client.java.error.DocumentDoesNotExistException</pre>
<div class="block">Get an entity/document by ID. The unique ID is constructed via
 <a href="../../../org/jooby/couchbase/N1Q.html#qualifyId-java.lang.Class-java.lang.Object-"><code>N1Q.qualifyId(Class, Object)</code></a>.

 If the entity is found, a entity is returned. Otherwise a
 <code>DocumentDoesNotExistException</code>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class.</dd>
<dd><code>id</code> - Entity id.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An entity matching the id or an empty observable.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.couchbase.client.java.error.DocumentDoesNotExistException</code></dd>
</dl>
</li>
</ul>
<a name="getFromReplica-java.lang.Class-java.lang.Object-com.couchbase.client.java.ReplicaMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromReplica</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;getFromReplica(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
                             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id,
                             com.couchbase.client.java.ReplicaMode&nbsp;mode)
                      throws com.couchbase.client.java.error.DocumentDoesNotExistException</pre>
<div class="block">Get an entity/document by ID. The unique ID is constructed via
 <a href="../../../org/jooby/couchbase/N1Q.html#qualifyId-java.lang.Class-java.lang.Object-"><code>N1Q.qualifyId(Class, Object)</code></a>.

 If the entity is found, a entity is returned. Otherwise a
 <code>DocumentDoesNotExistException</code>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class.</dd>
<dd><code>id</code> - Entity id.</dd>
<dd><code>mode</code> - Replica mode.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An entity matching the id or an empty observable.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.couchbase.client.java.error.DocumentDoesNotExistException</code></dd>
</dl>
</li>
</ul>
<a name="getAndLock-java.lang.Class-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAndLock</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;getAndLock(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id,
                         int&nbsp;lockTime)
                  throws com.couchbase.client.java.error.DocumentDoesNotExistException</pre>
<div class="block">Retrieve and lock a entity by its unique ID.

 If the entity is found, a entity is returned. Otherwise a
 <code>DocumentDoesNotExistException</code>.

 This method works similar to <a href="../../../org/jooby/couchbase/Datastore.html#get-java.lang.Class-java.lang.Object-"><code>get(Class, Object)</code></a>, but in addition it (write) locks the
 entity for the given lock time interval. Note that this lock time is hard capped to 30
 seconds, even if provided with a higher value and is not configurable. The entity will unlock
 afterwards automatically.

 Detecting an already locked entity is done by checking for
 <code>TemporaryLockFailureException</code>. Note that this exception can also be raised in other
 conditions, always when the error is transient and retrying may help.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class.</dd>
<dd><code>id</code> - id the unique ID of the entity.</dd>
<dd><code>lockTime</code> - the time to write lock the entity (max. 30 seconds).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Observable</code> eventually containing the found <code>JsonDocument</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.couchbase.client.java.error.DocumentDoesNotExistException</code></dd>
</dl>
</li>
</ul>
<a name="getAndTouch-java.lang.Class-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAndTouch</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;getAndTouch(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;entityClass,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id,
                          int&nbsp;expiry)
                   throws com.couchbase.client.java.error.DocumentDoesNotExistException</pre>
<div class="block">Retrieve and touch an entity by its unique ID.

 If the entity is found, an entity is returned. Otherwise a
 <code>DocumentDoesNotExistException</code>.

 This method works similar to <a href="../../../org/jooby/couchbase/Datastore.html#get-java.lang.Class-java.lang.Object-"><code>get(Class, Object)</code></a>, but in addition it touches the
 entity, which will reset its configured expiration time to the value provided.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class.</dd>
<dd><code>id</code> - id the unique ID of the entity.</dd>
<dd><code>expiry</code> - the new expiration time for the entity (in seconds).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <code>Observable</code> eventually containing the found <code>JsonDocument</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.couchbase.client.java.error.DocumentDoesNotExistException</code></dd>
</dl>
</li>
</ul>
<a name="exists-java.lang.Class-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre>default&nbsp;boolean&nbsp;exists(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;entityClass,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)</pre>
<div class="block">Check whether a entity with the given ID does exist in the bucket.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class.</dd>
<dd><code>id</code> - Entity id.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True, if exists.</dd>
</dl>
</li>
</ul>
<a name="upsert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>upsert</h4>
<pre>default&nbsp;<a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a>&nbsp;upsert()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new upsert command.</dd>
</dl>
</li>
</ul>
<a name="upsert-java.lang.Object-">
<!--   -->
</a><a name="upsert-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>upsert</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;upsert(T&nbsp;entity)</pre>
<div class="block">Insert or overwrite an entity. If the entity already has an ID, then that ID is selected. If
 the entity doesn't have an ID and the field is annotated with <a href="../../../org/jooby/couchbase/GeneratedValue.html" title="annotation in org.jooby.couchbase"><code>GeneratedValue</code></a> this
 method will generate a new ID and insert the entity.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - Entity to insert or overwrite.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Updated entity.</dd>
</dl>
</li>
</ul>
<a name="insert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>default&nbsp;<a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a>&nbsp;insert()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new insert command.</dd>
</dl>
</li>
</ul>
<a name="insert-java.lang.Object-">
<!--   -->
</a><a name="insert-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;insert(T&nbsp;entity)</pre>
<div class="block">Insert an entity. If the entity already has an ID, then that ID is selected. If
 the entity doesn't have an ID and the field is annotated with <a href="../../../org/jooby/couchbase/GeneratedValue.html" title="annotation in org.jooby.couchbase"><code>GeneratedValue</code></a> this
 method will generate a new ID and insert the entity.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - Entity to insert or overwrite.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Updated entity.</dd>
</dl>
</li>
</ul>
<a name="replace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>default&nbsp;<a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase">Datastore.Command</a>&nbsp;replace()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new replace command.</dd>
</dl>
</li>
</ul>
<a name="replace-java.lang.Object-">
<!--   -->
</a><a name="replace-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;T&nbsp;replace(T&nbsp;entity)</pre>
<div class="block">Replace a <code>Document</code> if it does exist and watch for durability constraints.

 It watches the server states if the given durability constraints are met. If this is the case,
 a new document is returned which contains the original properties, but has the refreshed CAS
 value set.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - Entity to replace.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new replace command.</dd>
</dl>
</li>
</ul>
<a name="remove--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>default&nbsp;<a href="../../../org/jooby/couchbase/Datastore.RemoveCommand.html" title="class in org.jooby.couchbase">Datastore.RemoveCommand</a>&nbsp;remove()</pre>
<div class="block">Removes an entity from the Server.

 The an entity returned just has the document ID and its CAS value set, since the value and all
 other
 associated properties have been removed from the server.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new remove command.</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>default&nbsp;long&nbsp;remove(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity)
             throws com.couchbase.client.java.error.DocumentDoesNotExistException</pre>
<div class="block">Removes an entity from the Server.

 The an entity returned just has the document ID and its CAS value set, since the value and all
 other associated properties have been removed from the server.

 Throws a <code>DocumentDoesNotExistException</code> if entity doesn't exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - Entity to remove.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cas value.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.couchbase.client.java.error.DocumentDoesNotExistException</code></dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.Class-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>default&nbsp;long&nbsp;remove(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;entityClass,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;id)
             throws com.couchbase.client.java.error.DocumentDoesNotExistException</pre>
<div class="block">Removes an entity from the Server.

 The an entity returned just has the document ID and its CAS value set, since the value and all
 other associated properties have been removed from the server.

 Throws a <code>DocumentDoesNotExistException</code> if entity doesn't exist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entityClass</code> - Entity class to remove.</dd>
<dd><code>id</code> - Entity id.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The cas value.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>com.couchbase.client.java.error.DocumentDoesNotExistException</code></dd>
</dl>
</li>
</ul>
<a name="query-com.couchbase.client.java.query.N1qlQuery-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;T&gt;&nbsp;query(com.couchbase.client.java.query.N1qlQuery&nbsp;query)</pre>
<div class="block">Run a <code>N1qlQuery.simple(Statement)</code> query.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - N1qlQuery.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of results.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/jooby/couchbase/N1Q.html#from-java.lang.Class-"><code>N1Q.from(Class)</code></a></dd>
</dl>
</li>
</ul>
<a name="query-com.couchbase.client.java.query.Statement-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;T&gt;&nbsp;query(com.couchbase.client.java.query.Statement&nbsp;statement)</pre>
<div class="block">Run a <code>N1qlQuery.simple(Statement)</code> query.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statement</code> - Statement.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of results.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/jooby/couchbase/N1Q.html#from-java.lang.Class-"><code>N1Q.from(Class)</code></a></dd>
</dl>
</li>
</ul>
<a name="query-com.couchbase.client.java.view.ViewQuery-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>query</h4>
<pre>default&nbsp;&lt;T&gt;&nbsp;<a href="../../../org/jooby/couchbase/Datastore.ViewQueryResult.html" title="class in org.jooby.couchbase">Datastore.ViewQueryResult</a>&lt;T&gt;&nbsp;query(com.couchbase.client.java.view.ViewQuery&nbsp;query)</pre>
<div class="block">Run a <code>ViewQuery</code> query.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Entity type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - View query.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Results.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Datastore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jooby/couchbase/CouchbaseSessionStore.html" title="class in org.jooby.couchbase"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/jooby/couchbase/Datastore.Command.html" title="class in org.jooby.couchbase"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jooby/couchbase/Datastore.html" target="_top">Frames</a></li>
<li><a href="Datastore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
